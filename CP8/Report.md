# Отчет по Курсовому проекту № 8
## по курсу "Практикум программирования"

Студент группы М8О-108Б-23 Соловьева Надежда Сергеевна

Работа выполнена 

Преподаватель: каф. 806 Севастьянов Виктор Сергеевич

1. **Тема**: Линейные списки  
2. **Цель работы**: Составить и отладить программу на Си для обработки линейного списка заданной организации с отображением списка на динамические структуры. Предусмотреть выполнение одного нестандартного и четырех стандартных действий:   
       1. Печать списка  
       2. Вставка нового элемента в список  
       3. Удаление элемента из списка    
       4. Подсчет длины списка    
4. **Задание (Вариант №):** Вариант 7 - 1 - 4:  
     * **Тип элемента списка**: Машинное слово  
     * **Вид списка**: Кольцевой однонаправленный
     * **Нестандартное действие**: Обменять местами (k-1)-й и (k+1)-й элементы списка (k задается в качестве параметра)  
5. **Алгоритм решения:**  
     **Структуры:** *Node* структура элемента списка, *CircularLinkedList* структура линейного кольцевого списка, *Iterator* структура итератора.
     В начале работы создается пустой список и программа предлагает пользователю следующие деуствия: 1. Вставить новый элемент в конец списка, 2. Удалить определенный элемент, 3. Печать списка, 4. Подсчет длины списка, 5. Поменять местами (k-1)-й и (k+1)-й элементы, 0. Выйти. Дальнейшая работа программы определяется выбором пользователя и реализуется с помощью следующих функций.  

     **Функции:**
     * *append()*: Функция для добавления элемента в конец списка.
     * *initCircularLinkedList()*: Функция создания (инциализации) линейного кольцевого однонаправленного списка.
     * *deleteNode()*: Функция для удаления элемента.  
     * *deleteList()*: Функция для удаления всего списка.  
     * *countLength()*: Функция нахождения длины списка.
     * *swapElements()*:  Функция для смены мест элементов, принимающая параметр *k*. Если список пустой, то програма выводит "Нет элементов". Если параметр *k* меньше 1 или превышает длину списка, то выводится сообщение о некорректности параметра. Если длина списка меньше 3 (т.е. кольцо не получается), то программа выводит сообщение о недостаточном количестве элементов. Иначе программа меняет местами (k-1)-й и (k+1)-й элементы.  
     * *printList()*: Функция для печати списка или сообщения "Нет элементов", если он пустой.   
      
7. **Тестовые данные:**  

    *см. в Листинге работы*  

8. **Протокол**:  
    Основная рограмма вывода на Си: [program.c](/program.c)  
  ```
  #include <stdio.h>
#include <stdlib.h>
#include "struct.h"

void printList(CircularLinkedList* list) {
    if (list->head == NULL) {
            printf("Нет элементов\n");
            return;
        }

    Iterator iter;
    initIterator(&iter, list);
    
    for (int i = 0; i < list->size; i++) {
        printf("%d ", getNext(&iter));
    }
    printf("\n");
}

int main() {
    CircularLinkedList list;
    initCircularLinkedList(&list);
    
    int choice, data, k;
    
    do {
        printf("Выберите действие:\n");
        printf("1. Вставить новый элемент в конец списка\n");
        printf("2. Удалить определенный элемент\n");
        printf("3. Печать списка\n");
        printf("4. Подсчет длины списка\n");
        printf("5. Поменять местами (k-1)-й и (k+1)-й элементы\n");
        printf("0. Выйти\n");
        scanf("%d", &choice);
        
        switch (choice) {
            case 1:
                printf("Введите значение нового элемента: ");
                scanf("%d", &data);
                append(&list, data);
                break;
            case 2:
                printf("Введите значение элемента для удаления: ");
                scanf("%d", &data);
                deleteNode(&list, data);
                break;
            case 3:
                printf("Список: ");
                printList(&list);
                break;
            case 4:
                printf("Длина списка: %d\n", countLength(&list));
                break;
            case 5:
                printf("Введите значение параметра k: ");
                scanf("%d", &k);
                k -= 1;
                swapElements(&list, k);
                break;
            case 0:
                deleteList(&list);
                break;
            default:
                printf("Некорректный ввод.\n");
        }
    } while (choice != 0);
    
    return 0;
}
  ```
 
7. **Листинг:**
```
hopeee@hopeeenad:~/repository/Lab/CP8new$ valgrind --leak-check=full ./program
==2977== Memcheck, a memory error detector
==2977== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2977== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==2977== Command: ./program
==2977==
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
1
Введите значение нового элемента: 1
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
1
Введите значение нового элемента: 2
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
1
Введите значение нового элемента: 3
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
1
Введите значение нового элемента: 4
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
1
Введите значение нового элемента: 5
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
3
Список: 1 2 3 4 5
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
2
Введите значение элемента для удаления: 1
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
3
Список: 2 3 4 5
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
1
Введите значение нового элемента: 6
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
4
Длина списка: 5
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
3
Список: 2 3 4 5 6
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
5
Введите значение параметра k: 1
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
3
Список: 2 6 4 5 3
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
5
Введите значение параметра k: 0
Некорректный параметр
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
5
Введите значение параметра k: 7
Некорректный параметр
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
5
Введите значение параметра k: 5
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
3
Список: 5 6 4 2 3
Выберите действие:
1. Вставить новый элемент в конец списка
2. Удалить определенный элемент
3. Печать списка
4. Подсчет длины списка
5. Поменять местами (k-1)-й и (k+1)-й элементы
0. Выйти
0
==2977==
==2977== HEAP SUMMARY:
==2977==     in use at exit: 0 bytes in 0 blocks
==2977==   total heap usage: 8 allocs, 8 frees, 2,144 bytes allocated
==2977==
==2977== All heap blocks were freed -- no leaks are possible
==2977==
==2977== For lists of detected and suppressed errors, rerun with: -s
==2977== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
```
8. **Вывод:** В процессе работы потренировались работать со списками и динамическими структурами, также познакомились с итераторами. В целом, работа понравилоась, она была в меру сложной + я люблю задания с возможностью выбора действий. Было бы ещё интересней, если бы не пришлось спать по 2 часа ради того, чтобы хоть что-то успевать по учёбе :(  
Итог: 8/10.   
